<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Codebrag</title>

    <link href="http://fonts.googleapis.com/css?family=PT+Sans:400,700|PT+Sans+Caption&amp;subset=cyrillic,latin-ext,latin" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/fonts/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/styles/index.css">

    <!-- TODO: enable IE workarounds later -->

    <script type="text/javascript" src="scripts/vendor/jquery-1.8.2-min.js"></script>
    <script type="text/javascript" src="scripts/vendor/lodash.js"></script>

    <script type="text/javascript" src="scripts/vendor/bootstrap.js"></script>
    <script type="text/javascript" src="scripts/vendor/moment.js"></script>

    <!-- angular stuff -->
    <script type="text/javascript" src="scripts/vendor/angular.js"></script>
    <script type="text/javascript" src="scripts/vendor/angular-resource.js"></script>
    <script type="text/javascript" src="scripts/vendor/angular-sanitize.js"></script>
    <script type="text/javascript" src="scripts/vendor/angular-cookies.js"></script>
    <script type="text/javascript" src="scripts/vendor/angular-ui-states.js"></script>

    <!-- for stubbed backend -->
    <script type="text/javascript" src="scripts/vendor/angular-mocks.js"></script>

    <script type="text/javascript" src="scripts/vendor/markdown/Markdown.Converter.js"></script>
    <script type="text/javascript" src="scripts/vendor/markdown/Markdown.Sanitizer.js"></script>

    <!-- main module -->
    <script type="text/javascript" src="scripts/app.js"></script>

    <script type="text/javascript" src="scripts/app.js"></script>

    <!-- stubbed backend definition -->
    <script type="text/javascript" src="scripts/backendStub.js"></script>

    <!-- security -->
    <script type="text/javascript" src="scripts/auth/httpAuthInterceptor.js"></script>
    <script type="text/javascript" src="scripts/auth/httpErrorsInterceptor.js"></script>
    <script type="text/javascript" src="scripts/auth/authService.js"></script>
    <script type="text/javascript" src="scripts/auth/currentUserResolver.js"></script>
    <script type="text/javascript" src="scripts/auth/httpRequestsBuffer.js"></script>
    <script type="text/javascript" src="scripts/auth/loginForm.js"></script>

    <!-- session -->
    <script type="text/javascript" src="scripts/session/sessionCtrl.js"></script>
    <script type="text/javascript" src="scripts/session/profileCtrl.js"></script>

    <!-- notifications -->
    <script type="text/javascript" src="scripts/notifications/notificationCountersCtrl.js"></script>
    <script type="text/javascript" src="scripts/notifications/notificationCountersService.js"></script>

    <!-- commits -->
    <script type="text/javascript" src="scripts/commits/commitLoadFilter.js"></script>
    <script type="text/javascript" src="scripts/commits/diffCtrl.js"></script>
    <script type="text/javascript" src="scripts/commits/commitsCtrl.js"></script>
    <script type="text/javascript" src="scripts/commits/commitsResource.js"></script>
    <script type="text/javascript" src="scripts/commits/commitsListService.js"></script>
    <script type="text/javascript" src="scripts/commits/commitsListItemCtrl.js"></script>
    <script type="text/javascript" src="scripts/commits/commitDetailsCtrl.js"></script>
    <script type="text/javascript" src="scripts/commits/comments/commentsResource.js"></script>
    <script type="text/javascript" src="scripts/commits/comments/markdownCommentForm.js"></script>
    <script type="text/javascript" src="scripts/commits/comments/commentable.js"></script>


    <!-- follow-ups -->
    <script type="text/javascript" src="scripts/followups/followupsCtrl.js"></script>
    <script type="text/javascript" src="scripts/followups/followupListItemCtrl.js"></script>
    <script type="text/javascript" src="scripts/followups/followupDetailsCtrl.js"></script>
    <script type="text/javascript" src="scripts/followups/followupsListService.js"></script>

    <!--commons -->
    <script type="text/javascript" src="scripts/common/events.js"></script>
    <script type="text/javascript" src="scripts/common/filters/dateFormatFilter.js"></script>
    <script type="text/javascript" src="scripts/common/directives/messagePopup.js"></script>
    <script type="text/javascript" src="scripts/common/directives/httpRequestTracker.js"></script>
    <script type="text/javascript" src="scripts/common/directives/isolateClick.js"></script>
    <script type="text/javascript" src="scripts/common/directives/activeForStates.js"></script>
    <script type="text/javascript" src="scripts/common/directives/activateSingleOnClick.js"></script>

    <script type="text/javascript" src="scripts/common/directives/markdownToHtml.js"></script>
    <script type="text/javascript" src="scripts/common/directives/markCurrent.js"></script>
    <script type="text/javascript" src="scripts/common/directives/scrollable.js"></script>

    <script type="text/javascript" src="scripts/common/AsyncCollection.js"></script>

    <script type="text/ng-template" id="inlineCommentForm">
        <tr class="comments-container comment-form">
            <td colspan="3">
                <markdown-comment-form action="submitInlineComment" extra-args="file,line,$index" closeable="true"></markdown-comment-form>
            </td>
        </tr>
    </script>

</head>

<body ng-app="codebrag">
    <header class="main-header" ng-controller="SessionCtrl">
        <a href="#" class="logo"><img src="/images/logo.png"></a>
        <nav class="main-nav">
            <ul class="button-group" ng-controller="NotificationCountersCtrl" ng-show="isLogged()">
                <li><a id="commits-btn" href="#/commits" class="button" active-for-states="commits,commits.list,commits.details"><span class="number">{{counters.commits}} </span>commits</a></li>
                <li><a id="followups-btn" href="#/followups" class="button" active-for-states="followups,followups.list,followups.details"><span class="number">{{counters.followups}} </span>follow-ups</a></li>
            </ul>
        </nav>
        <div class="user-info" ng-show="isLogged()"><span class="username"><a  ng-click="logout()">Logout</a></span></div>
        <div class="user-info" ng-show="isLogged()"><span class="username"><a href="#/profile">Signed in as {{getLoggedUserName()}}</a></span><img src="{{getLoggedUserAvatar()}}"></div>
    </header>
    <login-form></login-form>
    <section ui-view></section>

</body>
</html>