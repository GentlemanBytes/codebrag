<div ng-controller="CommitDetailsCtrl">
    <div class="row">
        <div class="span7">
            <h3>Commit details</h3>
        </div>
    </div>
    <div class="row" ng-repeat="file in files">
        <div class="span7">
            <div class="row">
                <div class="well">
                    <span ng-switch on="file.status">
                        <span ng-switch-when="added">+</span>
                        <span ng-switch-when="removed">-</span>
                        <span ng-switch-default></span>
                    </span>
                    <span>{{file.filename}}</span>
                </div>
            </div>
            <div class="row diff-file-data">
                <table>
                    <tr ng-repeat="line in file.lines">
                        <td class="diff-table-line-number-cell" ng-switch on="line.lineType">
                            <span ng-switch-when="header">...</span>
                            <span ng-switch-when="added"></span>
                            <span ng-switch-default>{{line.lineNumberOriginal}}</span>
                        </td>
                        <td class="diff-table-line-number-cell" ng-switch on="line.lineType">
                            <span ng-switch-when="header">...</span>
                            <span ng-switch-when="removed"></span>
                            <span ng-switch-default>{{line.lineNumberChanged}}</span>
                        </td>
                        <td class="diff-{{line.lineType}} diff-line" ng-bind-html-unsafe="line.line"></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">&nbsp;</div>
    </div>
    <div ng-controller="CommentCtrl">
    <div class="row">
        <div class="span7">
            <div class="well" ng-repeat="comment in commentsList" style="width:90%">
                {{comment.time | relativeDate}} by <strong>{{comment.authorName}}</strong>:
                <br/>
                <span ng-bind-html-unsafe="comment.message"></span>
            </div>
            <form name="newCommentForm">
                <fieldset>
                    <label>Your comment</label>
                    <textarea rows="5" style="width: 90%; resize: vertical" ng-model="addComment.body" required placeholder="Type your comment here"></textarea>
                    <button class="btn" ng-disabled="newCommentForm.$invalid" ng-click="submitComment()">Submit</button>
                </fieldset>
            </form>
        </div>
    </div>

    </div>
</div>
